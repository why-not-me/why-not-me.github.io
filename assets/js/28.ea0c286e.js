(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{498:function(t,s,a){"use strict";a.r(s);var n=a(10),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("早些年的时候，js 中的数据判断常常喜欢用"),a("code",[t._v("==")]),t._v("来判断，这就带了很多奇奇怪怪的隐式转换，最经典的图莫过于以下这张")]),t._v(" "),a("p",[t._v("![js-type][../.vuepress/public/images/js-type]")]),t._v(" "),a("p",[t._v("看到这张图的前端程序员往往是会心一笑，笑完会回想起被那些奇奇怪怪面试题支配的时候，心里只有了一句：tmd。")]),t._v(" "),a("p",[t._v("笑归笑，对于一个有着转牛角尖的程序员来说，弄清这些奇奇怪该转后背后的原理，以及怎么样避免使用这么奇怪的判断，还是非常有必要的。")]),t._v(" "),a("h2",{attrs:{id:"js-数据类型"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#js-数据类型"}},[t._v("#")]),t._v(" js 数据类型")]),t._v(" "),a("p",[t._v("说到类型转换，自然和 js 的数据类型离不了关系。那就先理理 js 中的数据类型。")]),t._v(" "),a("p",[t._v("JS 中存在以下数据类型：")]),t._v(" "),a("ol",[a("li",[t._v("原始类型（primitive values）：")])]),t._v(" "),a("ul",[a("li",[t._v("String")]),t._v(" "),a("li",[t._v("Number")]),t._v(" "),a("li",[t._v("Boolean")]),t._v(" "),a("li",[t._v("Null")]),t._v(" "),a("li",[t._v("Undefined")]),t._v(" "),a("li",[t._v("Symbol")])]),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("对象类型")])]),t._v(" "),a("ul",[a("li",[t._v("Object")])]),t._v(" "),a("p",[t._v("原始类型的值是存在 js 内存的栈空间中，引用类型的值则是存在堆空间。")]),t._v(" "),a("h2",{attrs:{id:"显式类型转换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#显式类型转换"}},[t._v("#")]),t._v(" 显式类型转换")]),t._v(" "),a("p",[t._v("显式类型就是主动调用"),a("code",[t._v("Number()")]),t._v("、"),a("code",[t._v("String()")]),t._v("、"),a("code",[t._v("Boolean()")]),t._v(" 这三个函数。")]),t._v(" "),a("p",[t._v("由于 js 没有严格的数据类型，毕竟 js 声明变量时，不必指定改变量是什么类型。")]),t._v(" "),a("h3",{attrs:{id:"number"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#number"}},[t._v("#")]),t._v(" Number()")]),t._v(" "),a("p",[t._v("对于"),a("code",[t._v("Number()")]),t._v("而言，有以下结果")]),t._v(" "),a("p",[t._v("首先是原始类型之转换：")]),t._v(" "),a("ol",[a("li",[t._v("数值：转换后还是原来的值")]),t._v(" "),a("li",[t._v("字符串：如果可以被解析为数值，则取相应的数值；如果不能，则取 "),a("code",[t._v("NaN")])]),t._v(" "),a("li",[t._v("布尔值：true 变 1，false 变 0")]),t._v(" "),a("li",[t._v("undefined： 转成"),a("code",[t._v("NaN")])]),t._v(" "),a("li",[t._v("null： 转成 0")])]),t._v(" "),a("p",[t._v("那如果是对象类型调用"),a("code",[t._v("Number()")]),t._v("，那就有以下情况了")]),t._v(" "),a("ol",[a("li",[t._v("先调用对象自身"),a("code",[t._v("valueOf")]),t._v("方法，如果"),a("code",[t._v("valueOf")]),t._v("返回的是原始类型，那么对这个值直接使用"),a("code",[t._v("Number()")]),t._v("；如果返回值不是原始类型，那走第 2 步")]),t._v(" "),a("li",[t._v("调用对象自身的"),a("code",[t._v("toString")]),t._v("方法，如果"),a("code",[t._v("toString")]),t._v("返回的是原始类型，那么对这个值直接使用"),a("code",[t._v("Number()")]),t._v("；如果不是，直接报错了哦")])]),t._v(" "),a("h3",{attrs:{id:"string"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#string"}},[t._v("#")]),t._v(" String()")]),t._v(" "),a("p",[t._v("对于"),a("code",[t._v("String()")]),t._v("而言，有以下结果")]),t._v(" "),a("p",[t._v("首先是原始类型转换")]),t._v(" "),a("ol",[a("li",[t._v("数值：转为相应字符串")]),t._v(" "),a("li",[t._v("字符串：转化还是原来的值")]),t._v(" "),a("li",[t._v("布尔值：true 变'true'，false 变成'false'")]),t._v(" "),a("li",[t._v("undefined：undefined 变为'undefined'")]),t._v(" "),a("li",[t._v("null: null 变成'null'")])]),t._v(" "),a("p",[t._v("那如果是对象类型调用"),a("code",[t._v("String()")]),t._v("，那就有以下情况了")]),t._v(" "),a("ol",[a("li",[t._v("先调用对象自身"),a("code",[t._v("toString")]),t._v("方法，如果"),a("code",[t._v("toString")]),t._v("返回的是原始类型，那么对这个值直接使用"),a("code",[t._v("String()")]),t._v("；如果返回值不是原始类型，那走第 2 步")]),t._v(" "),a("li",[t._v("调用对象自身的"),a("code",[t._v("valueOf")]),t._v("方法，如果"),a("code",[t._v("valueOf")]),t._v("返回的是原始类型，那么对这个值直接使用"),a("code",[t._v("String()")]),t._v("；如果不是，直接报错了哦")])]),t._v(" "),a("h2",{attrs:{id:"boolean"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#boolean"}},[t._v("#")]),t._v(" Boolean")]),t._v(" "),a("p",[a("code",[t._v("Boolean")]),t._v("则有以下结果")]),t._v(" "),a("p",[t._v("首先是原始类型转换")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Boolean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("undefined")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Boolean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Boolean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Boolean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Boolean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("NaN")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Boolean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n")])])]),a("p",[t._v("而其他情况，全是"),a("code",[t._v("true")]),t._v("了")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Boolean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("Boolean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])]),a("h2",{attrs:{id:"隐式转换"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#隐式转换"}},[t._v("#")]),t._v(" 隐式转换")]),t._v(" "),a("p",[t._v("以上的转换，全是显式转换，而面试里常喜欢问到的类型判断，基本上都是隐式转换，比如开头的那种图")]),t._v(" "),a("p",[t._v("那什么时候，会发生隐式转换呢？一般是以下几种情况")]),t._v(" "),a("ol",[a("li",[t._v("四则运算，比如"),a("code",[t._v("1 + '1'")])]),t._v(" "),a("li",[t._v("判断语句，比如"),a("code",[t._v("if (!0) {}")])]),t._v(" "),a("li",[t._v("Native 调用，比如"),a("code",[t._v("[] == []")])])]),t._v(" "),a("p",[t._v("常见的题目有")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ''")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [object Object]")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [object Object]")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [object Object][object + Object]")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 2")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" a"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 1[object Object]")]),t._v("\n")])])]),a("h2",{attrs:{id:"小结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#小结"}},[t._v("#")]),t._v(" 小结")]),t._v(" "),a("p",[t._v("js 的类型转换，主要体现在显式转换，隐式转换的背后也是根据显式转换的规则，则是不同的 js 宿主，实现方式可能不一样。所以在项目里，尽量用显式转换，以及"),a("code",[t._v("===")]),t._v("，少用"),a("code",[t._v("==")]),t._v("，不能为了一时偷懒，写出“取巧”却让人迷惑的类型判断。")])])}),[],!1,null,null,null);s.default=e.exports}}]);